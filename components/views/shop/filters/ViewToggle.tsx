"use client";

import { useProductStore } from "@/lib/store/productStore";

type ViewMode = "grid" | "compact" | "list" | "detailed";

export default function ViewToggle() {
  const { viewMode, setViewMode } = useProductStore();

  const handleViewChange = (view: ViewMode) => {
    setViewMode(view);
  };

  return (
    <div className="flex border divide-x divide-gray-300">
      <button
        onClick={() => handleViewChange("grid")}
        className={`p-2 transition-all duration-100 cursor-pointer hover:bg-gray-200 w-[46px] h-[40px] ${
          viewMode === "grid" ? "bg-[#E8ECEF]" : ""
        }`}
        aria-label="Grid View"
      >
        <Grid3x3 isSelected={viewMode === "grid"} />
      </button>
      <button
        onClick={() => handleViewChange("compact")}
        className={`cursor-pointer transition-all duration-100 hover:bg-gray-200 w-[46px] h-[40px] ${
          viewMode === "compact" ? "bg-[#E8ECEF]" : ""
        }`}
        aria-label="Compact Grid View"
      >
        <Grid2x2 isSelected={viewMode === "compact"} />
      </button>

      <button
        onClick={() => handleViewChange("list")}
        className={`cursor-pointer transition-all duration-100 hover:bg-gray-200 w-[46px] h-[40px] ${
          viewMode === "list" ? "bg-[#E8ECEF]" : ""
        }`}
        aria-label="List View"
      >
        <StretchVertical isSelected={viewMode === "list"} />
      </button>

      <button
        onClick={() => handleViewChange("detailed")}
        className={`cursor-pointer transition-all duration-100 flex items-center justify-center hover:bg-gray-200 w-[46px] h-[40px] ${
          viewMode === "detailed" ? "bg-[#E8ECEF]" : ""
        }`}
        aria-label="Detailed List View"
      >
        <StretchHorizontal isSelected={viewMode === "detailed"} />
      </button>
    </div>
  );
}

const Grid3x3 = ({ isSelected }: { isSelected: boolean }) => (
  <svg
    width="100%"
    height="100%"
    viewBox="0 0 24 24"
    fill={isSelected ? "#EEE" : "#FFF"}
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M1.5 3C1.5 2.60218 1.65804 2.22064 1.93934 1.93934C2.22064 1.65804 2.60218 1.5 3 1.5H6C6.39782 1.5 6.77936 1.65804 7.06066 1.93934C7.34196 2.22064 7.5 2.60218 7.5 3V6C7.5 6.39782 7.34196 6.77936 7.06066 7.06066C6.77936 7.34196 6.39782 7.5 6 7.5H3C2.60218 7.5 2.22064 7.34196 1.93934 7.06066C1.65804 6.77936 1.5 6.39782 1.5 6V3ZM9 3C9 2.60218 9.15804 2.22064 9.43934 1.93934C9.72064 1.65804 10.1022 1.5 10.5 1.5H13.5C13.8978 1.5 14.2794 1.65804 14.5607 1.93934C14.842 2.22064 15 2.60218 15 3V6C15 6.39782 14.842 6.77936 14.5607 7.06066C14.2794 7.34196 13.8978 7.5 13.5 7.5H10.5C10.1022 7.5 9.72064 7.34196 9.43934 7.06066C9.15804 6.77936 9 6.39782 9 6V3ZM16.5 3C16.5 2.60218 16.658 2.22064 16.9393 1.93934C17.2206 1.65804 17.6022 1.5 18 1.5H21C21.3978 1.5 21.7794 1.65804 22.0607 1.93934C22.342 2.22064 22.5 2.60218 22.5 3V6C22.5 6.39782 22.342 6.77936 22.0607 7.06066C21.7794 7.34196 21.3978 7.5 21 7.5H18C17.6022 7.5 17.2206 7.34196 16.9393 7.06066C16.658 6.77936 16.5 6.39782 16.5 6V3ZM1.5 10.5C1.5 10.1022 1.65804 9.72064 1.93934 9.43934C2.22064 9.15804 2.60218 9 3 9H6C6.39782 9 6.77936 9.15804 7.06066 9.43934C7.34196 9.72064 7.5 10.1022 7.5 10.5V13.5C7.5 13.8978 7.34196 14.2794 7.06066 14.5607C6.77936 14.842 6.39782 15 6 15H3C2.60218 15 2.22064 14.842 1.93934 14.5607C1.65804 14.2794 1.5 13.8978 1.5 13.5V10.5ZM9 10.5C9 10.1022 9.15804 9.72064 9.43934 9.43934C9.72064 9.15804 10.1022 9 10.5 9H13.5C13.8978 9 14.2794 9.15804 14.5607 9.43934C14.842 9.72064 15 10.1022 15 10.5V13.5C15 13.8978 14.842 14.2794 14.5607 14.5607C14.2794 14.842 13.8978 15 13.5 15H10.5C10.1022 15 9.72064 14.842 9.43934 14.5607C9.15804 14.2794 9 13.8978 9 13.5V10.5ZM16.5 10.5C16.5 10.1022 16.658 9.72064 16.9393 9.43934C17.2206 9.15804 17.6022 9 18 9H21C21.3978 9 21.7794 9.15804 22.0607 9.43934C22.342 9.72064 22.5 10.1022 22.5 10.5V13.5C22.5 13.8978 22.342 14.2794 22.0607 14.5607C21.7794 14.842 21.3978 15 21 15H18C17.6022 15 17.2206 14.842 16.9393 14.5607C16.658 14.2794 16.5 13.8978 16.5 13.5V10.5ZM1.5 18C1.5 17.6022 1.65804 17.2206 1.93934 16.9393C2.22064 16.658 2.60218 16.5 3 16.5H6C6.39782 16.5 6.77936 16.658 7.06066 16.9393C7.34196 17.2206 7.5 17.6022 7.5 18V21C7.5 21.3978 7.34196 21.7794 7.06066 22.0607C6.77936 22.342 6.39782 22.5 6 22.5H3C2.60218 22.5 2.22064 22.342 1.93934 22.0607C1.65804 21.7794 1.5 21.3978 1.5 21V18ZM9 18C9 17.6022 9.15804 17.2206 9.43934 16.9393C9.72064 16.658 10.1022 16.5 10.5 16.5H13.5C13.8978 16.5 14.2794 16.658 14.5607 16.9393C14.842 17.2206 15 17.6022 15 18V21C15 21.3978 14.842 21.7794 14.5607 22.0607C14.2794 22.342 13.8978 22.5 13.5 22.5H10.5C10.1022 22.5 9.72064 22.342 9.43934 22.0607C9.15804 21.7794 9 21.3978 9 21V18ZM16.5 18C16.5 17.6022 16.658 17.2206 16.9393 16.9393C17.2206 16.658 17.6022 16.5 18 16.5H21C21.3978 16.5 21.7794 16.658 22.0607 16.9393C22.342 17.2206 22.5 17.6022 22.5 18V21C22.5 21.3978 22.342 21.7794 22.0607 22.0607C21.7794 22.342 21.3978 22.5 21 22.5H18C17.6022 22.5 17.2206 22.342 16.9393 22.0607C16.658 21.7794 16.5 21.3978 16.5 21V18Z"
      fill="#6C7275"
    />
  </svg>
);

const Grid2x2 = ({ isSelected }: { isSelected: boolean }) => (
  <svg
    width="100%"
    height="100%"
    viewBox="0 0 46 40"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <mask id="path-1-inside-1_31_2973" fill={isSelected ? "#EEE" : "#FFF"}>
      <path d="M0 0H46V40H0V0Z" />
    </mask>
    <path d="M0 0H46V40H0V0Z" fill={isSelected ? "#EEE" : "#FFF"} />
    <path
      d="M45 0V40H47V0H45Z"
      fill="#E8ECEF"
      mask="url(#path-1-inside-1_31_2973)"
    />
    <path
      d="M19.75 21.5C20.3467 21.5 20.919 21.7371 21.341 22.159C21.7629 22.581 22 23.1533 22 23.75V27.25C22 27.8467 21.7629 28.419 21.341 28.841C20.919 29.2629 20.3467 29.5 19.75 29.5H16.25C15.6533 29.5 15.081 29.2629 14.659 28.841C14.2371 28.419 14 27.8467 14 27.25V23.75C14 23.1533 14.2371 22.581 14.659 22.159C15.081 21.7371 15.6533 21.5 16.25 21.5H19.75ZM29.75 21.5C30.3467 21.5 30.919 21.7371 31.341 22.159C31.7629 22.581 32 23.1533 32 23.75V27.25C32 27.8467 31.7629 28.419 31.341 28.841C30.919 29.2629 30.3467 29.5 29.75 29.5H26.25C25.6533 29.5 25.081 29.2629 24.659 28.841C24.2371 28.419 24 27.8467 24 27.25V23.75C24 23.1533 24.2371 22.581 24.659 22.159C25.081 21.7371 25.6533 21.5 26.25 21.5H29.75ZM19.75 11.5C20.3467 11.5 20.919 11.7371 21.341 12.159C21.7629 12.581 22 13.1533 22 13.75V17.25C22 17.8467 21.7629 18.419 21.341 18.841C20.919 19.2629 20.3467 19.5 19.75 19.5H16.25C15.6533 19.5 15.081 19.2629 14.659 18.841C14.2371 18.419 14 17.8467 14 17.25V13.75C14 13.1533 14.2371 12.581 14.659 12.159C15.081 11.7371 15.6533 11.5 16.25 11.5H19.75ZM29.75 11.5C30.3467 11.5 30.919 11.7371 31.341 12.159C31.7629 12.581 32 13.1533 32 13.75V17.25C32 17.8467 31.7629 18.419 31.341 18.841C30.919 19.2629 30.3467 19.5 29.75 19.5H26.25C25.6533 19.5 25.081 19.2629 24.659 18.841C24.2371 18.419 24 17.8467 24 17.25V13.75C24 13.1533 24.2371 12.581 24.659 12.159C25.081 11.7371 25.6533 11.5 26.25 11.5H29.75Z"
      fill="#6C7275"
    />
  </svg>
);

const StretchVertical = ({ isSelected }: { isSelected: boolean }) => (
  <svg
    width="100%"
    height="100%"
    viewBox="0 0 46 40"
    fill={isSelected ? "#EEE" : "#FFF"}
    xmlns="http://www.w3.org/2000/svg"
  >
    <mask id="path-1-inside-1_31_2976" fill={isSelected ? "#EEE" : "#FFF"}>
      <path d="M0 0H46V40H0V0Z" />
    </mask>
    <path d="M0 0H46V40H0V0Z" fill={isSelected ? "#EEE" : "#FFF"} />
    <path
      d="M45 0V40H47V0H45Z"
      fill={isSelected ? "#EEE" : "#FFF"}
      mask="url(#path-1-inside-1_31_2976)"
    />
    <path
      d="M19.75 21C20.3467 21 20.919 21.2371 21.341 21.659C21.7629 22.081 22 22.6533 22 23.25V26.75C22 27.3467 21.7629 27.919 21.341 28.341C20.919 28.7629 20.3467 29 19.75 29H16.25C15.6533 29 15.081 28.7629 14.659 28.341C14.2371 27.919 14 27.3467 14 26.75V23.25C14 22.6533 14.2371 22.081 14.659 21.659C15.081 21.2371 15.6533 21 16.25 21H19.75ZM29.75 21C30.3467 21 30.919 21.2371 31.341 21.659C31.7629 22.081 32 22.6533 32 23.25V26.75C32 27.3467 31.7629 27.919 31.341 28.341C30.919 28.7629 30.3467 29 29.75 29H26.25C25.6533 29 25.081 28.7629 24.659 28.341C24.2371 27.919 24 27.3467 24 26.75V23.25C24 22.6533 24.2371 22.081 24.659 21.659C25.081 21.2371 25.6533 21 26.25 21H29.75ZM19.75 11C20.3467 11 20.919 11.2371 21.341 11.659C21.7629 12.081 22 12.6533 22 13.25V16.75C22 17.3467 21.7629 17.919 21.341 18.341C20.919 18.7629 20.3467 19 19.75 19H16.25C15.6533 19 15.081 18.7629 14.659 18.341C14.2371 17.919 14 17.3467 14 16.75V13.25C14 12.6533 14.2371 12.081 14.659 11.659C15.081 11.2371 15.6533 11 16.25 11H19.75ZM29.75 11C30.3467 11 30.919 11.2371 31.341 11.659C31.7629 12.081 32 12.6533 32 13.25V16.75C32 17.3467 31.7629 17.919 31.341 18.341C30.919 18.7629 30.3467 19 29.75 19H26.25C25.6533 19 25.081 18.7629 24.659 18.341C24.2371 17.919 24 17.3467 24 16.75V13.25C24 12.6533 24.2371 12.081 24.659 11.659C25.081 11.2371 25.6533 11 26.25 11H29.75Z"
      fill="#6C7275"
    />
    <path d="M14 14H21.998V26H14V14Z" fill="#6C7275" />
    <path d="M24.002 14H32V26H24.002V14Z" fill="#6C7275" />
  </svg>
);

const StretchHorizontal = ({ isSelected }: { isSelected: boolean }) => (
  <svg
    width="24"
    height="25"
    viewBox="0 0 24 25"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M12.9999 15.75C12.9999 15.1533 13.237 14.581 13.659 14.159C14.0809 13.7371 14.6532 13.5 15.2499 13.5L18.7499 13.5C19.3467 13.5 19.919 13.7371 20.3409 14.159C20.7629 14.581 20.9999 15.1533 20.9999 15.75L20.9999 19.25C20.9999 19.8467 20.7629 20.419 20.3409 20.841C19.919 21.2629 19.3467 21.5 18.7499 21.5L15.2499 21.5C14.6532 21.5 14.0809 21.2629 13.659 20.841C13.237 20.419 12.9999 19.8467 12.9999 19.25L12.9999 15.75ZM12.9999 5.75C12.9999 5.15326 13.237 4.58097 13.6589 4.15901C14.0809 3.73705 14.6532 3.5 15.2499 3.5L18.7499 3.5C19.3467 3.5 19.919 3.73705 20.3409 4.15901C20.7629 4.58097 20.9999 5.15326 20.9999 5.75L20.9999 9.25C20.9999 9.84674 20.7629 10.419 20.3409 10.841C19.919 11.2629 19.3467 11.5 18.7499 11.5L15.2499 11.5C14.6532 11.5 14.0809 11.2629 13.6589 10.841C13.237 10.419 12.9999 9.84674 12.9999 9.25L12.9999 5.75ZM2.99994 15.75C2.99994 15.1533 3.23699 14.581 3.65895 14.159C4.08091 13.7371 4.6532 13.5 5.24994 13.5L8.74994 13.5C9.34668 13.5 9.91897 13.7371 10.3409 14.159C10.7629 14.581 10.9999 15.1533 10.9999 15.75L10.9999 19.25C10.9999 19.8467 10.7629 20.419 10.3409 20.841C9.91897 21.2629 9.34668 21.5 8.74994 21.5L5.24994 21.5C4.6532 21.5 4.08091 21.2629 3.65895 20.841C3.23699 20.419 2.99994 19.8467 2.99994 19.25L2.99994 15.75ZM2.99994 5.75C2.99994 5.15326 3.23699 4.58097 3.65895 4.15901C4.08091 3.73705 4.6532 3.5 5.24994 3.5L8.74994 3.5C9.34668 3.5 9.91897 3.73705 10.3409 4.15901C10.7629 4.58097 10.9999 5.15326 10.9999 5.75L10.9999 9.25C10.9999 9.84674 10.7629 10.419 10.3409 10.841C9.91897 11.2629 9.34668 11.5 8.74994 11.5L5.24994 11.5C4.6532 11.5 4.08091 11.2629 3.65895 10.841C3.23699 10.419 2.99994 9.84674 2.99994 9.25L2.99994 5.75Z"
      fill="#6C7275"
    />
    <path
      d="M5.99994 21.5L5.99994 13.502L17.9999 13.502L17.9999 21.5L5.99994 21.5Z"
      fill="#6C7275"
    />
    <path
      d="M5.99994 11.498L5.99994 3.5L17.9999 3.5L17.9999 11.498L5.99994 11.498Z"
      fill="#6C7275"
    />
  </svg>
);
